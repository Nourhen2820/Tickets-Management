<div class="ticket-form-container">
  <div class="form-card">

    <!-- Bouton retour -->
    <div class="back-btn">
      <a routerLink="/" class="btn-back">
        <i class="bi bi-arrow-left"></i> Retour à la liste
      </a>
    </div>

    <!-- Notification -->
    <div *ngIf="notification" class="notification" [ngClass]="notification.type">
      {{ notification.message }}
    </div>

    <!-- Titre -->
    <h2 class="form-title" *ngIf="!isEdit">Créer un ticket</h2>
    <h2 class="form-title" *ngIf="isEdit">Modifier le ticket</h2>

    <!-- Formulaire -->
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div class="form-group">
        <label for="title">Titre</label>
        <input id="title" class="form-control" formControlName="title" placeholder="" />
        <div *ngIf="form.get('title')?.invalid && form.get('title')?.touched" class="error-text">
          Le titre est requis.
        </div>
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" class="form-control" formControlName="description" rows="4"
          placeholder="Décrivez la description..."></textarea>
      </div>

      <div class="form-group">
        <label for="status">Statut</label>
        <select id="status" class="form-select" formControlName="status">
          <option value="ouvert">Ouvert</option>
          <option value="en_cours">En cours</option>
          <option value="resolu">Résolu</option>
        </select>
      </div>

      <div class="form-actions">
        <button class="btn btn-primary" type="submit" [disabled]="form.invalid">💾 Enregistrer</button>
        <a class="btn btn-secondary" routerLink="/">❌ Annuler</a>
      </div>
    </form>
  </div>
</div>
